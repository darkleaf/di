{:path [], :nextjournal/value {:package :directory, :toc {:path [], :nextjournal/value [], :nextjournal/render-opts {:toc-visibility false, :set-hash? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/toc-viewer, :render-fn #viewer-fn nextjournal.clerk.render.navbar/render-items, :hash "5dtesrAmYqLZQQHSMEfFTNpmLtY4nC"}}, :sidenotes? false, :toc-visibility false, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns darkleaf.di.tutorial.x-inspect-test), :file "test/darkleaf/di/tutorial/x_inspect_test.clj", :scope darkleaf.di.tutorial.x-inspect-test, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "./../../../../../"} "Index"] [:span.mx-2 "â€¢"]] [:span "Generated with " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://clerk.vision"} "Clerk"] [:<> " from " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href nil} "test/darkleaf/di/tutorial/x_inspect_test.clj" nil]]]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}, :open-graph {:type "article:clerk", :title nil, :description nil}, :blocks [{:path [], :nextjournal/value [{:path [0], :nextjournal/value "(ns darkleaf.di.tutorial.x-inspect-test\n  (:require\n   [clojure.test :as t]\n   [darkleaf.di.core :as di]\n   [darkleaf.di.protocols :as p]\n   [darkleaf.di.tutorial.x-ns-publics-test :as x-ns-publics-test]))", :nextjournal/render-opts {:loc {:line 1, :end-line 6, :column 1, :end-column 68}, :id "darkleaf.di.tutorial.x-inspect-test/anon-expr-5dquxToDEU1Acm5wfWXtWsedFsSfgE-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest no-description-test\n  (t/is (= [{:key `foo\n             #_\"NOTE: no description as it is not implemented\"}]\n           (di/inspect `foo\n                       {`foo (reify p/Factory\n                               (dependencies [_])\n                               (build [_ _] :foo)\n                               (demolish [_ _])\n                               #_\"NOTE: no `p/description implemented\")}))))", :nextjournal/render-opts {:loc {:line 8, :end-line 16, :column 1, :end-column 77}, :id "darkleaf.di.tutorial.x-inspect-test/no-description-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$no_description_test 0x6573489c \"darkleaf.di.tutorial.x_inspect_test$no_description_test@6573489c\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/no-description-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/no-description-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest env-test\n  (t/is (= [{:key         \"FOO\"\n             :description {::di/kind :env}}]\n           (di/inspect \"FOO\"))))", :nextjournal/render-opts {:loc {:line 19, :end-line 22, :column 1, :end-column 33}, :id "darkleaf.di.tutorial.x-inspect-test/env-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$env_test 0x6202c219 \"darkleaf.di.tutorial.x_inspect_test$env_test@6202c219\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/env-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/env-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest fixed-env-test\n  (t/is (= [{:key         \"FOO\"\n             :description {::di/kind :trivial\n                           :object   \"value\"}}]\n           (di/inspect \"FOO\" {\"FOO\" \"value\"}))))", :nextjournal/render-opts {:loc {:line 25, :end-line 29, :column 1, :end-column 49}, :id "darkleaf.di.tutorial.x-inspect-test/fixed-env-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$fixed_env_test 0x533ad9b \"darkleaf.di.tutorial.x_inspect_test$fixed_env_test@533ad9b\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/fixed-env-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/fixed-env-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def variable :obj)", :nextjournal/render-opts {:loc {:line 32, :end-line 32, :column 1, :end-column 20}, :id "darkleaf.di.tutorial.x-inspect-test/variable-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value :obj, :nextjournal/viewer {:name nextjournal.clerk.viewer/keyword-viewer, :render-fn #viewer-fn (fn [x] [:span.cmt-atom.inspected-value (str x)]), :hash "5dsp5Uy2KDqwuALVVk33HXMZdpXGBq"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable-result-1"}}, :nextjournal/blob-id "5du9ZH9QkgwVYkx2gQbCaaeFZ6zVbs"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest variable-test\n  (t/is (= [{:key         `variable\n             :description {::di/kind     :trivial\n                           :object       :obj\n                           ::di/variable #'variable}}]\n           (di/inspect `variable))))", :nextjournal/render-opts {:loc {:line 34, :end-line 39, :column 1, :end-column 37}, :id "darkleaf.di.tutorial.x-inspect-test/variable-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$variable_test 0x24e97319 \"darkleaf.di.tutorial.x_inspect_test$variable_test@24e97319\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def variable+factory\n  (reify p/Factory\n    (dependencies [_])\n    (build [_ _] :ok)\n    (demolish [_ _])\n    #_\"NOTE: no `p/description implemented\"))", :nextjournal/render-opts {:loc {:line 42, :end-line 47, :column 1, :end-column 46}, :id "darkleaf.di.tutorial.x-inspect-test/variable+factory-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$reify__22615 0x5b21e8b0 \"darkleaf.di.tutorial.x_inspect_test$reify__22615@5b21e8b0\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable+factory-result-1"}}, :nextjournal/blob-id "5dt1J1tHzaUnQ9e7UJVhkkSBZanpGZ"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable+factory-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest variable+factory-test\n  (t/is (= [{:key         `variable+factory\n             :description {#_\"NOTE: no description as it is not implemented\"\n                           ::di/variable #'variable+factory}}]\n           (di/inspect `variable+factory))))", :nextjournal/render-opts {:loc {:line 49, :end-line 53, :column 1, :end-column 45}, :id "darkleaf.di.tutorial.x-inspect-test/variable+factory-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$variable_PLUS_factory_test 0x2f47ebc7 \"darkleaf.di.tutorial.x_inspect_test$variable_PLUS_factory_test@2f47ebc7\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable+factory-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable+factory-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def variable+description\n  (reify\n    p/Factory\n    (dependencies [_])\n    (build [_ _] :ok)\n    (demolish [_ _])\n    p/FactoryDescription\n    (description [_]\n      {::di/kind ::variable+description})))", :nextjournal/render-opts {:loc {:line 56, :end-line 64, :column 1, :end-column 44}, :id "darkleaf.di.tutorial.x-inspect-test/variable+description-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$reify__22622 0x3700d4c1 \"darkleaf.di.tutorial.x_inspect_test$reify__22622@3700d4c1\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable+description-result-1"}}, :nextjournal/blob-id "5dsZwvnkkoHWW6SygKzzGMssiZFC61"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable+description-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest variable+description-test\n  (t/is (= [{:key         `variable+description\n             :description {::di/kind     ::variable+description\n                           ::di/variable #'variable+description}}]\n           (di/inspect `variable+description))))", :nextjournal/render-opts {:loc {:line 66, :end-line 70, :column 1, :end-column 49}, :id "darkleaf.di.tutorial.x-inspect-test/variable+description-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$variable_PLUS_description_test 0x581e0883 \"darkleaf.di.tutorial.x_inspect_test$variable_PLUS_description_test@581e0883\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable+description-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable+description-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def variable+template\n  (di/template [42]))", :nextjournal/render-opts {:loc {:line 73, :end-line 74, :column 1, :end-column 22}, :id "darkleaf.di.tutorial.x-inspect-test/variable+template-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#darkleaf.di.core/template [42]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable+template-result-1"}}, :nextjournal/blob-id "5drdHbyrdZMVSzzTNd7CmdyjMNQtfN"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable+template-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest variable+template-test\n  (t/is (= [{:key         `variable+template\n             :description {::di/kind     :template\n                           :template     [42]\n                           ::di/variable #'variable+template}}]\n           (di/inspect `variable+template))))", :nextjournal/render-opts {:loc {:line 76, :end-line 81, :column 1, :end-column 46}, :id "darkleaf.di.tutorial.x-inspect-test/variable+template-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$variable_PLUS_template_test 0xcae1f58 \"darkleaf.di.tutorial.x_inspect_test$variable_PLUS_template_test@cae1f58\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable+template-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable+template-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn component-0-arity\n  {::di/kind :component}\n  []\n  :ok)", :nextjournal/render-opts {:loc {:line 84, :end-line 87, :column 1, :end-column 7}, :id "darkleaf.di.tutorial.x-inspect-test/component-0-arity-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$component_0_arity 0x1c27d4d9 \"darkleaf.di.tutorial.x_inspect_test$component_0_arity@1c27d4d9\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/component-0-arity-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/component-0-arity-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest component-0-arity-test\n  (t/is (= [{:key         `component-0-arity\n             :description {::di/kind     :component\n                           ::di/variable #'component-0-arity}}]\n           (di/inspect `component-0-arity))))", :nextjournal/render-opts {:loc {:line 89, :end-line 93, :column 1, :end-column 46}, :id "darkleaf.di.tutorial.x-inspect-test/component-0-arity-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$component_0_arity_test 0x2d30bd40 \"darkleaf.di.tutorial.x_inspect_test$component_0_arity_test@2d30bd40\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/component-0-arity-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/component-0-arity-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn component-1-arity\n  {::di/kind :component}\n  [-deps]\n  :ok)", :nextjournal/render-opts {:loc {:line 96, :end-line 99, :column 1, :end-column 7}, :id "darkleaf.di.tutorial.x-inspect-test/component-1-arity-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$component_1_arity 0x542f275 \"darkleaf.di.tutorial.x_inspect_test$component_1_arity@542f275\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/component-1-arity-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/component-1-arity-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest component-1-arity-test\n  (t/is (= [{:key         `component-1-arity\n             :description {::di/kind     :component\n                           ::di/variable #'component-1-arity}}]\n           (di/inspect `component-1-arity))))", :nextjournal/render-opts {:loc {:line 101, :end-line 105, :column 1, :end-column 46}, :id "darkleaf.di.tutorial.x-inspect-test/component-1-arity-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$component_1_arity_test 0x796a795a \"darkleaf.di.tutorial.x_inspect_test$component_1_arity_test@796a795a\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/component-1-arity-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/component-1-arity-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn service-0-arity\n  {::di/kind :service}\n  []\n  :ok)", :nextjournal/render-opts {:loc {:line 108, :end-line 111, :column 1, :end-column 7}, :id "darkleaf.di.tutorial.x-inspect-test/service-0-arity-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$service_0_arity 0x5b49ebb2 \"darkleaf.di.tutorial.x_inspect_test$service_0_arity@5b49ebb2\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/service-0-arity-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/service-0-arity-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest service-0-arity-test\n  (t/is (= [{:key         `service-0-arity\n             :description {::di/kind     :service\n                           ::di/variable #'service-0-arity}}]\n           (di/inspect `service-0-arity))))", :nextjournal/render-opts {:loc {:line 113, :end-line 117, :column 1, :end-column 44}, :id "darkleaf.di.tutorial.x-inspect-test/service-0-arity-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$service_0_arity_test 0x733b9726 \"darkleaf.di.tutorial.x_inspect_test$service_0_arity_test@733b9726\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/service-0-arity-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/service-0-arity-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn service-n-arity\n  {::di/kind :service}\n  [-deps]\n  :ok)", :nextjournal/render-opts {:loc {:line 120, :end-line 123, :column 1, :end-column 7}, :id "darkleaf.di.tutorial.x-inspect-test/service-n-arity-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$service_n_arity 0x61f8126e \"darkleaf.di.tutorial.x_inspect_test$service_n_arity@61f8126e\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/service-n-arity-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/service-n-arity-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest service-n-arity-test\n  (t/is (= [{:key         `service-n-arity\n             :description {::di/kind     :service\n                           ::di/variable #'service-n-arity}}]\n           (di/inspect `service-n-arity))))", :nextjournal/render-opts {:loc {:line 125, :end-line 129, :column 1, :end-column 44}, :id "darkleaf.di.tutorial.x-inspect-test/service-n-arity-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$service_n_arity_test 0x4b7217a2 \"darkleaf.di.tutorial.x_inspect_test$service_n_arity_test@4b7217a2\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/service-n-arity-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/service-n-arity-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defmulti multimethod-service\n  {::di/deps []}\n  (fn [-deps kind] kind))", :nextjournal/render-opts {:loc {:line 132, :end-line 134, :column 1, :end-column 26}, :id "darkleaf.di.tutorial.x-inspect-test/multimethod-service-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[clojure.lang.MultiFn 0x5ff27105 \"clojure.lang.MultiFn@5ff27105\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/multimethod-service-result-1"}}, :nextjournal/blob-id "5dt2GzSWoVkEn9ouzDvJB4qq21HH2T"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/multimethod-service-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest multimethod-service-test\n  (t/is (= [{:key         `multimethod-service\n             :description {::di/kind     :service\n                           ::di/variable #'multimethod-service}}]\n           (di/inspect `multimethod-service))))", :nextjournal/render-opts {:loc {:line 136, :end-line 140, :column 1, :end-column 48}, :id "darkleaf.di.tutorial.x-inspect-test/multimethod-service-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$multimethod_service_test 0x70df4f7a \"darkleaf.di.tutorial.x_inspect_test$multimethod_service_test@70df4f7a\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/multimethod-service-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/multimethod-service-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest ref-test\n  (t/is (= [{:key          `foo\n             :dependencies {`bar :required}\n             :description  {::di/kind :ref\n                            :key      `bar\n                            :type     :required}}\n            {:key         `bar\n             :description {::di/kind :undefined}}]\n           (di/inspect `foo {`foo (di/ref `bar)}))))", :nextjournal/render-opts {:loc {:line 143, :end-line 151, :column 1, :end-column 53}, :id "darkleaf.di.tutorial.x-inspect-test/ref-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$ref_test 0x5115486d \"darkleaf.di.tutorial.x_inspect_test$ref_test@5115486d\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/ref-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/ref-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest template-test\n  (t/is (= [{:key          `foo\n             :dependencies {`bar :required}\n             :description  {::di/kind :template\n                            :template [42 (di/ref `bar)]}}\n            {:key         `bar\n             :description {::di/kind :undefined}}]\n           (di/inspect `foo {`foo (di/template [42 (di/ref `bar)])}))))", :nextjournal/render-opts {:loc {:line 154, :end-line 161, :column 1, :end-column 72}, :id "darkleaf.di.tutorial.x-inspect-test/template-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$template_test 0xa019aea \"darkleaf.di.tutorial.x_inspect_test$template_test@a019aea\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/template-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/template-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest derive-test\n  (t/is (= [{:key          `foo\n             :dependencies {`bar :optional}\n             :description  {::di/kind :derive\n                            :key      `bar\n                            :f        str\n                            :args     [\"arg\"]}}\n            {:key         `bar\n             :description {::di/kind :undefined}}]\n           (di/inspect `foo {`foo (di/derive `bar str \"arg\")}))))", :nextjournal/render-opts {:loc {:line 164, :end-line 173, :column 1, :end-column 66}, :id "darkleaf.di.tutorial.x-inspect-test/derive-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$derive_test 0x4637b8f6 \"darkleaf.di.tutorial.x_inspect_test$derive_test@4637b8f6\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/derive-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/derive-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest trivial-nil-test\n  (t/is (= [{:key         `foo\n             :description {::di/kind :trivial\n                           :object   nil}}]\n           (di/inspect `foo {`foo nil}))))", :nextjournal/render-opts {:loc {:line 176, :end-line 180, :column 1, :end-column 43}, :id "darkleaf.di.tutorial.x-inspect-test/trivial-nil-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$trivial_nil_test 0x4c198bd5 \"darkleaf.di.tutorial.x_inspect_test$trivial_nil_test@4c198bd5\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/trivial-nil-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/trivial-nil-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest trivial-obj-test\n  (t/is (= [{:key         `foo\n             :description {::di/kind :trivial\n                           :object   str}}]\n           (di/inspect `foo {`foo str}))))", :nextjournal/render-opts {:loc {:line 183, :end-line 187, :column 1, :end-column 43}, :id "darkleaf.di.tutorial.x-inspect-test/trivial-obj-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$trivial_obj_test 0x3734e41b \"darkleaf.di.tutorial.x_inspect_test$trivial_obj_test@3734e41b\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/trivial-obj-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/trivial-obj-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest update-key-test\n  (t/is (= [{:key          `a\n             :dependencies {`a+di-update-key#1-target :optional\n                            `a+di-update-key#1-f      :optional\n                            `a+di-update-key#1-arg#0  :optional}\n             :description  {::di/kind   :middleware\n                            :middleware ::di/update-key\n                            :target     `a\n                            :new-target `a+di-update-key#1-target\n                            :f          `a+di-update-key#1-f\n                            :args       [`a+di-update-key#1-arg#0]}}\n            {:key         `a+di-update-key#1-target\n             :description {::di/kind       :trivial\n                           :object         :obj\n                           ::di/update-key {:target `a\n                                            :role   :target}}}\n            {:key         `a+di-update-key#1-f\n             :description {::di/kind       :trivial\n                           :object         str\n                           ::di/update-key {:target `a\n                                            :role   :f}}}\n            {:key         `a+di-update-key#1-arg#0\n             :description {::di/kind       :trivial\n                           :object         \"arg\"\n                           ::di/update-key {:target `a\n                                            :role   :arg}}}]\n           (di/inspect `a\n                       {`a :obj}\n                       (di/update-key `a str \"arg\")))))", :nextjournal/render-opts {:loc {:line 190, :end-line 218, :column 1, :end-column 56}, :id "darkleaf.di.tutorial.x-inspect-test/update-key-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$update_key_test 0x31e4eedd \"darkleaf.di.tutorial.x_inspect_test$update_key_test@31e4eedd\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/update-key-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/update-key-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest add-side-dependency-test\n  (t/is (= [{:key         `a\n             :description {::di/kind :trivial\n                           :object   :obj}}\n            {:key         `side-dep-1\n             :description {::di/kind            :trivial\n                           :object              :side-dep\n                           ::di/side-dependency true}}\n            {:key         `side-dep-2\n             :description {::di/kind            :trivial\n                           :object              :side-dep\n                           ::di/side-dependency true}}]\n           (di/inspect `a\n                       {`a          :obj\n                        `side-dep-1 :side-dep\n                        `side-dep-2 :side-dep}\n                       (di/add-side-dependency `side-dep-1)\n                       (di/add-side-dependency `side-dep-2)))))", :nextjournal/render-opts {:loc {:line 221, :end-line 238, :column 1, :end-column 64}, :id "darkleaf.di.tutorial.x-inspect-test/add-side-dependency-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$add_side_dependency_test 0x4aef001f \"darkleaf.di.tutorial.x_inspect_test$add_side_dependency_test@4aef001f\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/add-side-dependency-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/add-side-dependency-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest ns-publics-test\n  (t/is (= [{:key          :ns-publics/darkleaf.di.tutorial.x-ns-publics-test\n             :dependencies {`x-ns-publics-test/service   :required\n                            `x-ns-publics-test/component :required\n                            `x-ns-publics-test/ok-test   :required}\n             :description  {::di/kind   :middleware\n                            :middleware ::di/ns-publics\n                            :ns         'darkleaf.di.tutorial.x-ns-publics-test}}\n            {:key          `x-ns-publics-test/service\n             :dependencies {`x-ns-publics-test/component :required}\n             :description  {::di/kind     :service\n                            ::di/variable #'x-ns-publics-test/service}}\n            {:key         `x-ns-publics-test/component\n             :description {::di/kind     :component\n                           ::di/variable #'x-ns-publics-test/component}}\n            {:key         `x-ns-publics-test/ok-test\n             :description {::di/kind     :trivial\n                           :object       x-ns-publics-test/ok-test\n                           ::di/variable #'x-ns-publics-test/ok-test}}]\n           (di/inspect :ns-publics/darkleaf.di.tutorial.x-ns-publics-test\n                       (di/ns-publics)))))", :nextjournal/render-opts {:loc {:line 241, :end-line 261, :column 1, :end-column 43}, :id "darkleaf.di.tutorial.x-inspect-test/ns-publics-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$ns_publics_test 0x4aa86db4 \"darkleaf.di.tutorial.x_inspect_test$ns_publics_test@4aa86db4\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/ns-publics-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/ns-publics-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest env-parsing-test\n  (t/is (= [{:key          :env.long/PORT\n             :dependencies {\"PORT\" :optional}\n             :description  {::di/kind   :middleware\n                            :middleware ::di/env-parsing\n                            :cmap       {:env.long parse-long}}}\n            {:key         \"PORT\"\n             :description {::di/kind :trivial\n                           :object   \"8080\"}}]\n           (di/inspect :env.long/PORT\n                       (di/env-parsing :env.long parse-long)\n                       {\"PORT\" \"8080\"}))))", :nextjournal/render-opts {:loc {:line 264, :end-line 275, :column 1, :end-column 43}, :id "darkleaf.di.tutorial.x-inspect-test/env-parsing-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$env_parsing_test 0x5aac4cc6 \"darkleaf.di.tutorial.x_inspect_test$env_parsing_test@5aac4cc6\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/env-parsing-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/env-parsing-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest log-test\n  (t/is (= [{:key         `foo\n             :description {::di/kind :trivial\n                           :object   :obj\n                           ::di/log  {:will-be-logged true\n                                      #_#_:opts       nil}}}]\n           (di/inspect `foo\n                       {`foo :obj}\n                       (di/log)))))", :nextjournal/render-opts {:loc {:line 278, :end-line 286, :column 1, :end-column 36}, :id "darkleaf.di.tutorial.x-inspect-test/log-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$log_test 0x4ca8d348 \"darkleaf.di.tutorial.x_inspect_test$log_test@4ca8d348\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/log-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/log-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def variable-factory-regression\n  (reify p/Factory\n    (dependencies [_])\n    (build [_ _]\n      :ok)\n    (demolish [_ _])))", :nextjournal/render-opts {:loc {:line 289, :end-line 294, :column 1, :end-column 23}, :id "darkleaf.di.tutorial.x-inspect-test/variable-factory-regression-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$reify__22719 0x7e75dd3a \"darkleaf.di.tutorial.x_inspect_test$reify__22719@7e75dd3a\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable-factory-regression-result-1"}}, :nextjournal/blob-id "5drbKA2HwNJZHd7w3RnA3gyPkdRRxu"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable-factory-regression-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest variable-factory-regression-test\n  (t/is (= :ok\n           @(di/start `variable-factory-regression))))", :nextjournal/render-opts {:loc {:line 296, :end-line 298, :column 1, :end-column 55}, :id "darkleaf.di.tutorial.x-inspect-test/variable-factory-regression-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$variable_factory_regression_test 0x77b9ca8d \"darkleaf.di.tutorial.x_inspect_test$variable_factory_regression_test@77b9ca8d\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable-factory-regression-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/variable-factory-regression-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest vector-test\n  (t/is (= [{:key \"A\"\n             :description {::di/kind :env}}\n            {:key \"B\"\n             :description {::di/kind :env}}]\n           (di/inspect [\"A\" \"B\"]))))", :nextjournal/render-opts {:loc {:line 301, :end-line 306, :column 1, :end-column 37}, :id "darkleaf.di.tutorial.x-inspect-test/vector-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$vector_test 0x28b359bf \"darkleaf.di.tutorial.x_inspect_test$vector_test@28b359bf\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/vector-test-result-1"}}, :nextjournal/blob-id "G__22731"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/vector-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest map-test\n  (t/is (= [{:key         \"A\"\n             :description {::di/kind :env}}\n            {:key         \"B\"\n             :description {::di/kind :env}}]\n           (di/inspect {:a \"A\" :b \"B\"}))))", :nextjournal/render-opts {:loc {:line 309, :end-line 314, :column 1, :end-column 43}, :id "darkleaf.di.tutorial.x-inspect-test/map-test-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$map_test 0x4f4b62c0 \"darkleaf.di.tutorial.x_inspect_test$map_test@4f4b62c0\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/map-test-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/map-test-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(t/deftest vector-test\n  (t/is (= [{:key         \"A\"\n             :description {::di/kind :env}}\n            {:key         \"B\"\n             :description {::di/kind :env}}]\n           (di/inspect [\"A\" \"B\"]))))", :nextjournal/render-opts {:loc {:line 317, :end-line 322, :column 1, :end-column 37}, :id "darkleaf.di.tutorial.x-inspect-test/vector-test#2-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[darkleaf.di.tutorial.x_inspect_test$vector_test 0x18973d91 \"darkleaf.di.tutorial.x_inspect_test$vector_test@18973d91\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/vector-test#2-result-1"}}, :nextjournal/blob-id "G__22742"}, :nextjournal/render-opts {:id "darkleaf.di.tutorial.x-inspect-test/vector-test#2-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash "5duAFDxE4sCnRX71Wo6zeCpC9C3djE"}}